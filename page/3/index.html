<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.1">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.1" color="#222">
  <link rel="alternate" href="/atom.xml" title="KeBlog" type="application/atom+xml">

<link rel="stylesheet" href="/css/main.css?v=7.4.1">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.4.1',
    exturl: false,
    sidebar: {"position":"left","display":"always","offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="HNFMS 现役 OIer">
<meta property="og:type" content="website">
<meta property="og:title" content="KeBlog">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="KeBlog">
<meta property="og:description" content="HNFMS 现役 OIer">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="KeBlog">
<meta name="twitter:description" content="HNFMS 现役 OIer">
  <link rel="canonical" href="http://yoursite.com/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>KeBlog</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">KeBlog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <h1 class="site-subtitle" itemprop="description">The OI Blog of Kewth</h1>
      
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
        
        
        <li class="menu-item menu-item-home">
      
    
      
      
        
      
        
      
        
      
    

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-about">
      
    
      
      
        
      
        
      
        
      
    

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-tags">
      
    
      
      
        
      
        
      
        
          
        
      
    

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">26</span></a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-categories">
      
    
      
      
        
      
        
          
        
      
        
      
    

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">2</span></a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-archives">
      
    
      
      
        
          
        
      
        
      
        
      
    

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">35</span></a>

  </li>
      
    
  </ul>

    

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/09/快速沃尔什变换/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kewth">
      <meta itemprop="description" content="HNFMS 现役 OIer">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KeBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            
            <a href="/2019/10/09/快速沃尔什变换/" class="post-title-link" itemprop="url">快速沃尔什变换</a>
          
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-10-09 17:34:33" itemprop="dateCreated datePublished" datetime="2019-10-09T17:34:33+08:00">2019-10-09</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
快速沃尔什变换，简称 FWT ，目前在 OI 中十分冷门。

## 用处

多项式卷积一般是这样的：

$$ C_i = \sum_{j + k = i} A_j \cdot B_k $$

这个可以用 FFT 快速求解。

然而还有一个诡异的卷积：

$$ C_i = \sum_{j \oplus k = i} A_j \cdot B_k $$

其中 $ \oplus $ 是任意一种位运算。

FWT 便是求这类卷积的快速算法。

## 构造

FFT 的思想是把多项式转换成可以线性相乘的点值表示法 (DFT) ，  
再把相乘的结果转换回系数表示法 (IDFT) 。

同样的道理可以用在 FWT 上，用 DWT 将多项式转换成可以线性相乘的形式，即：

$$ DWT(C)_i = DWT(A)_i \cdot DWT(B)_i $$

再用 IDWT 将相乘的结果转换回来。

## DWT

目标是构造一个转移系数函数 f(i, j) ，满足：

$$ DWT(A)_i = \sum_j A_j \cdot f(i, j) $$

考虑 f(i, j) 应满足什么样的性质。

首先根据 DWT 的性质：

$$ DWT(C)_i = DWT(A)_i \cdot DWT(B)_i $$

$$ \sum_t C_t f(i, t) = \sum_j A_j f(i, j) \sum_k B_k f(i, k) $$

$$ \sum_t \sum_{j \oplus k = t} A_j B_k f(i, t) = \sum_j \sum_k A_j f(i, j) B_k f(i, k) $$

$$ \sum_t \sum_{j \oplus k = t} A_j B_k f(i, t) = \sum_t \sum_{j \oplus k = t} A_j f(i, j) B_k f(i, k) $$

由上式可得出：

$$ \forall i, j, k: f(i, j) f(i, k) = f(i, j \oplus k) $$

这样还不够，为了让 DWT 快速进行，f(i, j) 还应满足以下性质：

$$ f(i, j) = \prod_k f(i_k, j_k) $$

其中 $ i_k $ 表示 i 二进制下的第 k 位（ 0 或 1 ）。

有了这个性质，就可已通过 f(0, 0), f(0, 1), f(1, 0), f(1, 1) 的值相乘得出所有 f 。  
有了这个性质，就可以考虑分治求 DWT ：

$$ DWT(A)_i = \sum_{j=0}^{n-1} A_j f(i, j) $$

$$ = \sum_{j=0}^{n/2-1} A_j f(i, j) + \sum_{j=n/2}^{n-1} A_j f(i, j) $$

$$ = \sum_{j=0}^{n/2-1} A_j \prod_k f(i_k, j_k) + \sum_{j=n/2}^{n-1} A_j \prod_k f(i_k, j_k) $$

$$ = \sum_{j=0}^{n/2-1} f(i_0, j_0) A_j \prod_{k \geq 1} f(i_k, j_k) + \sum_{j=n/2}^{n-1} A_j f(i_0, j_0) \prod_{k \geq 1} f(i_k, j_k)$$

$$ = f(i_0, 0) \sum_{j=0}^{n/2-1} A_j \prod_k f(i_k, j_k) + f(i_0, 1) \sum_{j=n/2}^{n-1} A_j \prod_k f(i_k, j_k) $$

规模减小了一半，递归或迭代地分治下去。  
每次将 A 分成左右两半 A0, A1 ：

$$ DWT(A)_i = f(0, 0) DWT(A0)_i + f(0, 1) DWT(A1)_i , i < n / 2 $$

$$ DWT(A)_i = f(1, 0) DWT(A0)_i + f(1, 1) DWT(A1)_i , i \geq n / 2 $$

想到 FFT 的蝴蝶变换没有？ ~~答：没有~~  
迭代的 DWT 这里也有类似的蝴蝶变换：

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = A[i], y = A[i + k];</span><br><span class="line">A[i] = f00 * x + f01 * y;</span><br><span class="line">A[i + k] = f10 * x + f11 * y;</span><br></pre></td></tr></table></figure>

DWT 的过程就是这样了，甚至不需要构造整个 f ，  
只需要 f(0, 0), f(0, 1), f(1, 0), f(1, 1) 即可，  
需要满足的就是 $ \forall i, j, k: f(i, j) f(i, k) = f(i, j \oplus k) $ 。

## IDWT

怎么将 DWT 的结果转换回来？
观察 DWT 的蝴蝶变换：

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = f00 * x + f01 * y;</span><br><span class="line">b = f10 * x + f11 * y;</span><br></pre></td></tr></table></figure>

DWT 通过 x, y 求出 a, b,  
IDWT 就是通过 a, b 求 x, y 。

解二元一次方程就好了：  
x = (f11 \* a - f01 \* b) / (f00 \* f11 - f01 \* f10)  
y = (f10 \* a - f00 \* b) / (f01 \* f10 - f00 \* f11)  

就是这么简单...

个屁啊。

考虑 f 的构造，  
要满足 DWT 的性质把所有的 f 设为 0 不就可以了？  
要满足 DWT 的性质把所有的 f 设为 1 不就可以了？

这样且不是对于任何位运算都会有相同的结果？

~~Naive.~~

再看看 IDWT ，分母里边是不是有 (f01 \* f11 - f01 * f10) ？  
不幸的是把 f 全部设为 0 或者全设为 1 这个分母都是 0 ，  
这意味着 IDWT 的二元一次方程无解，转过去就转不回来了。

因此 f 的构造还要满足一个条件： `f01 * f11 != f01 * f10` 。

## f 的构造

f 需要满足的性质已经讲的很详细了。

这里给出常用位运算中 f 的构造：

- 按位或： f00 = 1, f01 = 0, f10 = 1, f11 = 1
- 按位与： f00 = 1, f01 = 1, f10 = 0, f11 = 1
- 异或： f00 = 1, f01 = 1, f10 = 1, f01 = -1

可以自行验证，这些 f 满足上述性质。

## 实际意义

一个多项式 A FFT 后的 A2(x) 实际意义就是 A 在 $ W_n^x $ 上的值（点值表示）。

那么 A FWT 后的结果的现实意义呢？  
这得分类来说。

### 按位或

A 在做按位或的 FWT 之后得到的 A2 满足：
$$ A2(x) = \sum_{i|x=x} A(i) $$

也就是说 A2(x) 表示 x 的每个子集 i 的 A(i) 的和。  
不难得到，A2(x) \* B2(x) 的结果 C2(x) 就是 A, B 卷积后的 C 的变换：
$$ A2(x) * B2(x) = \sum_{i|x=x} A(i) \sum_{j|x=x} B(j) $$
$$ A2(x) * B2(x) = \sum_{i|x=x} \sum_{j|x=x} A(i) B(j) $$
$$ A2(x) * B2(x) = \sum_{k|x=x} \sum_{i|j=k} A(i) B(j) $$
$$ A2(x) * B2(x) = \sum_{k|x=x} C(k) $$
$$ A2(x) * B2(x) = C2(x) $$

事实上，这也就是子集和变换。

~~感性理解一下~~

### 按位与

和按位或类似的，A 在做按位与的 FWT 之后得到的 A2 满足：
$$ A2(x) = \sum_{i\&x=x} A(i) $$

也就是说 A2(x) 表示每个包含 x 的集合 i 的 A(i) 的和。  
不难得到，A2(x) \* B2(x) 的结果 C2(x) 就是 A, B 卷积后的 C 的变换：
$$ A2(x) * B2(x) = \sum_{i\&x=x} A(i) \sum_{j\&x=x} B(j) $$
$$ A2(x) * B2(x) = \sum_{i\&x=x} \sum_{j\&x=x} A(i) B(j) $$
$$ A2(x) * B2(x) = \sum_{k\&x=x} \sum_{i\&j=k} A(i) B(j) $$
$$ A2(x) * B2(x) = \sum_{k\&x=x} C(k) $$
$$ A2(x) * B2(x) = C2(x) $$

~~和按位或一个模子里刻出来的~~

## 子集卷积

两个多项式 A, B 的子集卷积 C 的意义如下：

$$ C(x) = \sum_{y|z=x, y\&z=0} A(y) B(z) $$

也就是把 x 划分为两个子集 y, z 的 A(y) \* B(z) 的和。

转换成 $ \sum_{y|z=x} A(y) B(z) [y \& z = 0] $ ，似乎是一个按位或卷积。  
再转换成 $ \sum_{y|z=x} A(y) B(z) [bitcount(y) + bitcount(z) = bitcount(x)] $ 。

此时需要考虑的就是 bitcount, 也就是集合大小。  
集合大小是 $ O(log(n)) $ 的，可以考虑枚举大小，设：
$$ A_i(x) = A(x) [bitcount(x) = i] $$
$$ B_j(x) = B(x) [bitcount(x) = j] $$
$$ C_k(x) = C(x) [bitcount(x) = k] $$

那么有：
$$ C_k(x) = \sum_{y|z=x} A_i(y) B_j(z) [i + j = k] $$
$$ C_k(x) = \sum_{i+j=k} \sum_{y|z=x} A_i(y) B_j(z) $$

那么枚举 i, j 的值，将 $ A_i $ 和 $ B_j $ 卷积后贡献到 $ C_{i+j} $ 即可。

这样复杂度似乎是 $ O(n log^3n) $ 的，  
但是事实上每个 $ A_i, B_j $ 都可以提前 FWT 后 $ O(n) $ 相乘，  
再贡献到 C 后不进行逆变换，而是确定了 C 的值后在进行逆变换。

复杂度 $ O(n log^2n) $

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/09/安徽游记 I/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kewth">
      <meta itemprop="description" content="HNFMS 现役 OIer">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KeBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            
            <a href="/2019/10/09/安徽游记 I/" class="post-title-link" itemprop="url">安徽游记 I</a>
          
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-10-09 17:34:25" itemprop="dateCreated datePublished" datetime="2019-10-09T17:34:25+08:00">2019-10-09</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
12 天的培（kao）训（shi），坚持每日总结。

Day0 to Day4.

## Day0

大清早的就出发了，地铁还是那么挤。  
先从长沙坐到南京，高铁上干坐 6 个小时贼贼贼贼贼无聊。

中午幸好提前买了泡面，随便应付一下，坐了一上午不动也不会感觉饿。  
%%% 在高铁上一餐吃 70rmb 的 lzk 。

到了南京还得等 1 小时转到芜湖，期间 UNO 现学现玩，  
第一把就赢了，一定是传说中的新手的欧气附体，  
但是这欧气来得快去的也飞快，后面再也没赢过 ，并且一度成为全场最富（一次拿了 20 张牌也是没谁了）。

再到动车上就累了，睡了一觉。

宾馆感觉一般但也还行，位置不错，旁边就是美食街，  
逛一遍发现芜湖的物价似乎比长沙要便宜得多？  
这里奶茶只有长沙一半多的价格还巨好喝，还有木桶饭最便宜 8rmb, 最贵也 16rmb, 吃得相当饱，提供的辣椒酱好评。

晚上宾馆自习，我的笔记本实在实在实在是太 tm 旧了 windows xp 实在实在实在是忍不了啊。  
宾馆的 wifi 都连不上去我怎么怎么打（kan）代（dian）码（ying）啊？？？  
还有我早已练就一身折腾本领，小事，关掉 XP 的沙雕代理轻松解决。  
但是网络实在是 suo （也许是我电脑不行？），努力了一晚上都没能成功看上电影。

## Day1

第一天考试，凄惨爆 0 。  
考试的时候想不出题啊（~~我太菜了~~），比较心不在焉，  
才发现打满暴力都是一种困难，水平不够。  
%　一 % 成功拿满暴力的 CZZ, orz 。

第一题维护区间历史最小和，玄学转换到二维平面 KD-Tree, 这玩意前几天刚考但是没去学，  
~~我发现冷门算法一考就会连续考几次~~。

第二题一脸不可做，题目名叫因式分解，我也就真的只会因式分解了。  
讲题的时候满分做法爆搜？？？好吧正解还是要个 DP 的。

第三题式子题妙啊妙啊，这什么用 $ \sum_{i=0}^{n-1} A^i = \frac{A^n-1}{A-1} $  把 $ A^n $ 换掉的清奇思路谁想得到啊。  
还有把 f(i) O(1) 一路推到 f(n) 再用组合数的奇技淫巧把 k 到 n 的枚举换成 1 到 k 谁想得到啊。

还有吐槽一下这套题部分分好少，几乎只有两档：暴力 -> 正解。

然后就是晚上的 ~~自由欢乐时光~~ 认真自习。  
终于成功把昨天的电影看了一半。  
然后颓了一晚上也是没救了，没办法 T3 被卡常心态爆炸（这就是你颓废的理由？）。

## Day2

~~成功拿到预期的暴力分 30，一大进步。~~

第一题图染色，考场上脑子不清醒，很快想到 $ O(n^2) $ 的建图方式后，  
竟然完全没有想到怎么计数，最后 $ O(n^n) $ 枚举染色方案可还行。  
于是 40' -> 10'

第二题又是一个计数，AC 自动机？我完全没想到，  
我还以为是容斥，但是发现有有 5 种情况，容斥起来要 5 + 10 + 10 + 5 种情况加加减减，  
没敢打，不过这次这题部分分给的挺全的，分了 10 个 subtask 还是不错的 ~~虽然我只拿了 20 ~~ 。

第三题玄学最短路，要用最短路树（我想到了但是没啥用），这玩意前几天 czz 才讲，  
~~果然又应验了我昨天说的，一考就连续考几次~~  
暴力都很难打啊这题，到最后只能 `puts("-1")` 了，然而 subtask 数据捆绑。

一考完就被 \*\*\* 拉去吃什么网红烤冷面（然而是热的），very nice but 量有点少。  
然后 \*\*\* 就拉了一堆人去星巴克 666 ，讲真这是我第一次在星巴克喝咖啡，忍痛剁手。  
晚上到宾馆就开始颓，终于看完了昨天的电影 ~~壮哉我大火影~~ 。

## Day3

今天的题目巨难，听出题人说是因为他明天赶时间所以把明天的 ~~毒瘤~~ 题全放今天就有更多时间讲。

第一题在 2 \* n 的网格图上求一个生成树，我想到有个类似的题（求 2n 的网格图上放一颗树的方案数），  
但是那道题我已经忘记怎么做了，而且那是计数，而这题是要求一个最优方案，  
反正就是以为可做然而 Naive, 浪费了很多时间最后打了枚举生成树的大暴力。  
考场上有一个线性计算当前方案的算法，枚举的时候加一点小剪枝，总复杂度应该是 $ O(6^n n) $ ，
预计 20' ，但是实际上还是只有 10' 。

第二题感觉是什么数据结构题，我按照一种贪心思路敲了线段树，  
估摸着有 23' 就没管了，后来出题人放了三个大样例，我一测，第一个就 WA 了，改了一点细节后过掉了，  
再测第二个，又 WA 了，然后 debug 了好久才意识到贪心的思路不对，这个时候离考试结束只有 5min, 弃疗。  
然后和预计的一样，3' 。

第三题是在一个很奇怪的图上面求最短路为 x 的点对（怎么又是最短路），  
大暴力就是跑出每个点对的最短路再统计嘛，这个图发现了一些性质，但是还是不会做，  
想着应该不难打就去打 T2 了，然后 T2 打到结束前 5min 所以这题的暴力也没打， 0' 。

今天的部分分还是很少，T2 T3 的暴力都只有 3' ，难受。

中午去一个东北菜馆吃饭，菜上的k慢但是挺好吃，很有特色，  
最抢眼的是收银台前面的冰箱，里面一条**巨大**的鱼（完整一条的可能比我还大？）。

下午有洛谷月赛，于是冠冕堂皇地不改题打月赛，洛谷月赛一如既往，除了签到题都只能打暴力。

晚上险些被查水表，我正在听歌教练突然敲门，我当时就以迅雷不及掩耳盗铃儿响叮当仁不让世界感受痛楚汉相争之势拔掉了耳机。  
没错，拔掉了耳机，然后 tm 就变成外放了声音贼大，当时就感觉自己真是沙雕了我去，  
然后我又以迅雷不及掩耳盗铃儿响叮当仁不让世界感受痛楚汉相争之势插上了耳机（被自己秀死了），这个时候教练已经差不多进来了，然后交代一些事，我耳机就插在笔记本上光明正大地摆桌上，有点小可怕，还好教练没有说什么。。。

从今天开始教练晚上要强制收电脑，于是 10:30 电脑被收后无所事事，  
这时候大家都要睡了（比如柠檬 9:30 就交电脑睡了），可是~~万恶的~~ \*\*\* 以睡不着的名义把我拉过去打 UNO,  
然后我~~只能被逼无奈地~~去打 UNO,  到 11:30 才睡可还行。

## Day4

今天终于 A 了一题，今天终于 A 了一题，今天终于 A 了一题。  
还有 % 一 % 全场 rank1 的柠檬。

第一题我手玩了一下得出了一个十分精简的结论，按照这个结论三四十行代码就能解决，  
自己都不敢相信啊，今天终于有一道良心签到题了？  
于是打出来后不停地调试，手造各种情况的数据都跑一遍，把之前的结论完善一些漏洞之后就交了，  
交了之后还是有点慌，生怕哪里出锅。  
最后还是成功 AC （四天来唯一一次）。

第二题刚开始看题还觉得可做，感觉像扫描线加线段树那种，  
但是看到可能有一面墙回塌后就不这么觉得了。  
而且我还看错了样例，这直接导致我误解题意，本来是先选点再有墙塌（考虑方案的时候不知道哪个墙会塌），  
我看样例这样跑出来不对（其实是我手玩玩错了），就以为是先塌墙再选点（提前知道哪面墙会塌后考虑方案），  
于是 blablabla 后交上去，预计至少有个二三十来分，结果只有大暴力 3' （还好大暴力的数据没卡掉我）。

第三题就感觉完全不可做了，最后暴力都没打， 0' 。  
下午讲题的时候才发现这题 25' 的部分分贼容易，就是个排序加贪心。  
另外 75' 正解好像是用 dp 做前面 25' 在对后面 75' 的求和用 dp 套 dp, 好巧啊之前朱哥才讲过。

A 了一题心里比较舒服，于是下午就颓了好久，打 Nazo 自力更生到 level 8 就不会了，  
在网上找提示后玩到 level 11 后再次卡关。

另外碰到一件玄学的事，我那显示器一碰就断电，然后要不断地调那根线，  
直到调到某个位置才可以打开，大概是因为接触不良，  
然后一次又黑了，我调了贼久试遍了各种姿势还是然并卵，  
没法子了，去找老师实在不行换个位置，  
老师了解状况后过来随手一拨，真的是 **随手一拨** ，那显示屏就开了，就开了，开了，了，  
emm 不愧是金牌教练，真的 6 。

晚上本来去吃必胜客的，但是没注意到今天周日，人巨多，排队等座位都要半个小时，  
几经周折最后去了 KFC ，也还不错。  
旁边一家奶茶店搞活动，把一个计时器按到刚好 10s 就能领两大杯奶茶，然而大概是我脸黑，按了 3 次都差的蛮远。
晚上又是 UNO, 和 tyr 无意间相互精准放炮，  
连续两次 tyr （下家）只剩一张牌，我掐指一算，猜到了那张牌的颜色，  
自信地打出一张其它颜色牌，结果和他数字相同。。。

## NEXT

[Day5 to Day8](/2019/03/26/安徽游记-ii/)

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/09/安徽游记 III/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kewth">
      <meta itemprop="description" content="HNFMS 现役 OIer">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KeBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            
            <a href="/2019/10/09/安徽游记 III/" class="post-title-link" itemprop="url">安徽游记 III</a>
          
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-10-09 17:33:56" itemprop="dateCreated datePublished" datetime="2019-10-09T17:33:56+08:00">2019-10-09</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
12 天的培（kao）训（shi），坚持每日总结。

Day9 to Day12.

## Day9

### 考试

炸了，今天出的题好诡异。

第一题一道博弈论，题意好迷，没太看懂就去做后面的题了，  
到后面离考试只有 5min 了再回来看 T1, 暴力都好难打，  
于是信仰一波 `std::cout << 0 << std::endl` ，水到了 12' 。

第二题是给出将数组 a 变换到 b 的方式，要求用 b 求 a ，  
式子里面有按位或、异或、bicount 什么的，莫非是 FWT ?  
于是推式子，如果真的是 FWT 的话求出 a 到 b 的变换应该可以推出 b 到 a 的逆变换。  
于是乎我花了一个小时搞来搞去，重新推了一遍 FWT （这个式子真的 6 没办法套用常用的位运算卷积），  
果然可以从 a 用分治 3 个 for $ O(n log(n)) $ 变换到 b 。  
但是和普通的 FWT 最不一样的就是这玩意不能“蝴蝶变换”，仅从 x, y 两个数推不到新的 x, y 。  
woc 那我怎么解方程求逆变换？当时有点绝望了开始怀疑 FWT 做不了，  
又去看了看 T3 ，不可做啊似乎，于是决定爆肝 T2 。  
我就手玩小数据，推推式子再找找规律，搞了大概 1h 发现把 b 做一遍异或逆变换再乘二再把 b[0] 减去原来的 b[0] 好像就是 a ！  
我还证明了它在 n 小于 8 的正确性，然后手玩了 n = 8 时的情况，错了。。。  
再次绝望，想了好久大概又过了 30min 吧突然发现之前手玩算错了，我靠重新手玩，完全符合规律。  
~~好嗨哟，感觉人生达到了高潮~~  
快速敲完 KET （ kewth 变换可还行）交了上去，结果最后爆 long long 了，爆 long long 了， long long 了，了。。。  
100' -> 60'

第三题交互题，实在没思路就想着能不能卡掉他的交互器来玄学 AC ，  
（以下玄学操作，请勿模仿）
为此我研究了大约 40min 的 syzoj 交互原理。  
考场上的提交得不到反馈，我就去同样用 syzoj 的 LOJ 上试着提交一下尝试尝试。  
然后第一波提交， CE 。。。  
改了一下再次提交， wating, wating, wating....  
woc 无限 wating? 感觉不对经，看了看 LOJ 的评测记录，然后。。。  
woc 自我 CE 代码后的所有评测全是 wating 不动，当时就懵逼了 loj 被我卡爆了？  
事实证明只是 loj 卡了一下，过个 3min 的样子就恢复了。。。  
我还读了下下发的交互器，于是我搞懂了这玩意的交互原理，  
但是实际的交互程序是另一个程序，下发的交互器只是和你的代码一起编译后和交互程序交互，  
看了看交互器最后 AC 的输出，然后在 solve 函数里打了份一样的就 exit(0) ，交了。  
结果。。。没过，实际评测的交互器和下发的交互器完全不同。。。（但是确实可以卡，后面会说）

### 讲题

今天的讲题真欢乐，一位大佬屡次上台嘲讽出题人。

T1 就是 dp 啊，加个启发式合并状态，如果不把时间浪费在 T3 说不定能想出来的。

T2 不想说了，心累，在变换过程中做除法就不会爆 long long ， AC 。

T3 随机分治？感觉挺 6 但是没懂。  
但是我还是通过奇技淫巧 AC 了。。。

### 爆掉这辣鸡交互

我还真不信这交互器天衣无缝，再次看交互器，  
交了几个错误的程序，发现我能得到的信息只有交互程序给出的信息，  
再蠢也不会把重要信息放提示信息里头嘛，感觉似乎没办法了。  
又交了一次， CE 了。。。  
这时转机出现了，我看了眼编译信息， woc nice 大夫 g++ 给的编译信息真详细：

	/sandbox/1/a.cpp:5:6: error: 'QCNT' was not declared in this scope
	out,QCNT,'\n';
	  ^
	/sandbox/1/a.cpp:5:6: note: suggested alternative:
	In file included from /sandbox/1/a.cpp:2:0:
	/sandbox/1/c.h:74:5: note:   'lkjjhkfdlhgkjdfgf5454::QCNT'
	int QCNT;

note 那一排暴露啦，这命名空间 lkjjhkfdlhgkjdfgf5454 也是没谁了（另外还发现了源码的位置 /sandbox/ ）。  
但是出题人以为套一个乱七八糟的 namespace 就没事了？  
然而还是被我发现了哈，于是通过这个 namespace 直接获取了交互器里存的答案，  
成功 AC ，辣鸡交互器。

看了看提交记录，我是第二个玄学 AC 的，第一个的 AC 代码提交时还没有那 sb namespace ，  
所以说，我是第一个发现这鬼畜 namespace 并通过它 AC 的 :)  
然后从我 AC 后就陆续有人玄学 AC, 代码我都看了一遍，大同小异，全是用这 sb namespace 过的（变量名、注释都跟我的长一个样），  
开创先河哈。

后面再改改就是 65B 全场最短 AC 代码。

后来又看了看，还有一名大佬用另一种方式爆掉了这辣鸡交互器。  
比我 6 多了，竟然直接搞到了交互器判 AC 的方式给写 solve 函数上了， %%% 。

声明：  
交互器确实是可以做到无法被爆破的，  
我今天成功爆掉交互主要原因是交互的封装方式漏洞百出，  
把交互的主要部分直接给 include 进来了，  
正确的方式是将交互的关键部分写在真正处理交互的通过输入输出交互的程序里面。  
去看看 loj 的交互题，把附加文件下下来，  
那附加文件就是封装了一下和交互器的交互方式，你不用都没关系。

## Day10

### 考试

第一题乍一看要动态维护逆序对？感觉不太可做，后面直接交了暴力， 30 分。

第二题字符串，感觉像是贪心，但是有一些情况不好判断，  
最后打了字符串做状态的暴力 DP ，我估摸着复杂度是 $ O(n^3) $ ，  
于是就只开了 30' 的部分分的数据的大小的数组 n = 100 ，交了，果然是 30' ，  
然而我把数组开到 2000 （ 60' 的范围）后就过了 60' ，这。。。  
60' -> 30' ~~论复杂度分析的重要性。~~

第三题式子题，乍一看似乎可做，然后简化简化简化，简化成了这样一个题意：

	在正整数范围内解方程 x * phi(x) = 2m ，m 已知。

我一看这么简洁的式子，枚举一下 2m 的因子应该差不多了，  
一看数据范围： $ m \leq 10^{18} $ ，第一档暴力 10' 范围： $ m \leq 10^9 $ 。。。  
还多组数据，一共 100000 组。。。  
连暴力都过不去啊我去。  
最后实在没思路，就预处理了一部分 phi 再暴力去搞，结果爆零。。。

### 讲题

第一题其实真的容易，根本不要动态维护逆序对，  
题目要求的只是使逆序对最小的一个循环的位置，  
考虑一个数从最左边被扔到最右边后对逆序对数量的影响，其实是不会变的，  
维护这个影响的数列，那么就是要求一个最小前缀和的位置，  
每次修改就是交换两段区间，虽然逆序对数量会改变，但是根本不用管，相对的影响还是不变的，  
那这玩意一个平衡树搞上去就好了。

第二题我似乎摸到正解的前一半了，  
贪心把能直接求的字母搞出来后对于剩下的求一个字典序最大后缀好像是，  
~~那这玩意一个后缀数组搞上去就好了。~~  
然而似乎还是要考虑一些情况，还没改出来。

第三题数论神仙题（我竟然以为 T3 可做），  
正解复杂度 $ O(log(m)) $ ，神仙做法，  
什么二次剩余什么欧拉定理什么质因数玄学分解都用上了，  
好难，出题人讲了两遍都没听懂。

## Day11

倒计时两天。

## 考试

第一题平面图上随机游走求到 n 的期望路径？  
30' 高斯消元暴力分比较容易想到，其他的就没思路了，想着先去打后面的题。  
最后回来打 T1 的时候连高斯消元都没打出来（我太菜了）。。~~其实是改昨天的题去了~~

第二题博弈题？乍一看似乎可做，然后简化简化简化，简化成了这样一个题意：

给定数列 a, b, c, 选 a 中的 x 个数替换成任意数使得 $ \forall i: a_{i-1} + b_{i-1} \leq a_i \geq a_{i-1} + c_{i-1} $
求最小的 x 。

然后这玩意 $ O(n^2) $ DP 嘛 $ O(n) $ 状态 $ O(n) $ 转移，  
我以为可以得 10' + 20' + 30' 三个子任务的分，  
结果 subtask2 的数据范围比 subtask3 大，但是是一个特殊情况，判掉就好了，我没打。。。  
60' -> 40'

第三题没思路，暴力枚举行枚举列枚举每个位置 24k 纯暴力，拿到了 40' 的好成绩。

## 讲题

第一题解方程线性代数 blabla, 但是看了看 Rank1 的代码，  
发现就是一个矩阵乘法，卧槽 $ O(n^3) $ 过 3000 ？  
经 \*\*\* 分析，平面图上的边数是 $ O(n) $ （最大是 3n - 6 ），  
所以高斯消元里的矩阵的点数是 $ O(n）$ 的，  
然后就可以根据之前 pics 讲过的方法 $ O(n) $ 做矩阵乘法（ n \* n 的矩阵与列向量相乘），  
做 n 遍，复杂度 $ O(n^2) $ 。

第二题似乎是最难的，我挂到 40' 都能是全场 rank1 。。。  
难点主要在简化题意上，简化后出题人说这就是个普及题了（ woc 我是不是不适合学信息），  
DP 可以优化，设一些坐标搞到平面上后将转移用线段树维护优化到 $ O(log(n)) $ ，  
但是把所有点对应到平面后，还有种更简单的做法就是求出最长下降子序列 x, 答案就是 n - x 。  
这个结论的证明折腾了一下午，还是很妙的。

第三题暴力优化 dfs 可以水 90 分？  
正解先枚举行再筛选列将单调性用桶存起来再转移大概是，正在改。

## 爆肝 Splay

这三天都在爆肝 Splay, 突然又对 Splay 的翻转操作有了更深的理解，  
也发现 Splay 真不是那么万能的，许多操作用 Splay 做会多一些不必要的麻烦，  
尤其是维护不对称信息还要带区间翻转的时候，似乎根本做不了？  
硬要做的话就必须强制让维护的信息对称，  
比如要是维护最大前缀和，要支持区间翻转就得还同时维护个最大后缀和。  
不说了，去他的信仰，正在学无旋 Treap 。

## Day12

最后一天。

### 考试

第一题已看完题 woc 这不就解方程嘛，手动消消元什么的就行了，  
出题人这么良心？于是就开始打，打完后测了测样例， woc 过了。  
再把大样例下下来一看， woc 出题人这么良心每道题 5 组大样例？  
全都测了一遍，全过了，交了，这个时候考试开始 59min 12s 。。。  
但是还是很荒，担心会写炸，然后就对着代码检查检查改了几个细节，  
改着改着又测了测时间， woc 要跑 0.9s+ ，这不会被卡常吧？  
又慌了起来，但是出题人说不会卡常，还下发了 io 模板，  
套上 io 模板后再测 0.2s+ ，松了口气，最后交了一次，  
这时候考试开始 101min 15s 。。。  
考完后看了下，其实我第一次交就 AC 了，白折腾这么久。。。

第二题神奇题，打了个暴力，期望 60' ，  
感觉可以把状态放平面上通过单调性什么之类的优化，  
但是没有具体的优化方案（我的计算几何真的是一片空白），  
结果最后暴力挂了？只有 10' 啊后面 50' 全 WA 了我一脸懵逼。  
还在找错。

第三题哇神仙题，一看就不可做的那种，打完暴力后挣扎了一下，  
得到了 30' 的好成绩。

### 讲题

今天又被爆踩了，T1 A 了一片，拉不开差距。

第二题果然是计算几何神仙题，什么凸包二分三分，什么半平面交，什么李超线段树。  
完全不会，只能等我计算几何基础打好后再来重做这题了。

第三题出题人说打表找规律题？反正我是没看出什么规律，  
然后出题人证明了一些结论，有这些结论就能 50 行内解决这题了，  
正在试图独立证明这些结论。。。

### 爆肝 Treap

写完暴力自闭之后就滚去学无旋 Treap 了，
看懂后感觉这 split + merge 的操作很 6 。  
然后自己写了写，过程中学到一个新操作： **空指针调用成员函数**  
woc 发现直接用空指针调函数就只要在函数里判一判，调用端省了无数个 if ，

方便死了，然后上午打完下午交了文艺平衡树，  
woc 全部 RE ???  
把数据下下来，本地跑了一下， AC 。。。  
woc 玄学本地 AC 提交 RE ？  
改了细节再交，还是全 RE ，  
那到洛谷 IDE 上测一下？一测， AC 。。。  
woc 玄学洛谷 IDE AC 提交 RE ？

然后 [各种测试](https://www.luogu.org/recordnew/lists?uid=Kewth?pid=P3391?status=?sort=0)

最后肝到晚上，终于认识到空指针调成员函数是多么不安全的行为。。。

emm 最后发现 Treap 无论是速度还是码量上都没好到哪去（难道是我实现太烂？），  
对于文艺平衡树来说，无旋 Treap 略慢，代码还略长，只是空间消耗略少。

## THE END

安徽芜湖 12 天，每天都很充实，虽然也有遗憾。

HNOI 2019, RP ++.


        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/09/安徽游记 II/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kewth">
      <meta itemprop="description" content="HNFMS 现役 OIer">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KeBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            
            <a href="/2019/10/09/安徽游记 II/" class="post-title-link" itemprop="url">安徽游记 II</a>
          
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-10-09 17:33:51" itemprop="dateCreated datePublished" datetime="2019-10-09T17:33:51+08:00">2019-10-09</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
12 天的培（kao）训（shi），坚持每日总结。

Day5 to Day8.

## Day5

### 考试

Nice 大夫今天又 A 掉一题！

第一题是在 DAG 上 q 个询问，每次询问一个子图的路径数量（子图点数和 O(n) ），  
我想了想部分分， DAG 上 DP 嘛，但是这样复杂度上界是 $ O(q m) $ ，  
瓶颈在于边的枚举（菊花树卡爆），然而子图的点可能很少，  
然后想到了更暴力的：邻接矩阵存图然后用枚举点代替枚举边，  
事实上邻接矩阵存不下，那就开 set （map 也行）动态加，  
这复杂度 $ O(q n^2 log(m)) $ 啊然而，然后我想了好久优化都没想出来，  
最后想着得多骗点分，于是就把两个暴力结合在了一起：  
每次询问比较 $ n^2 log(m) $ 和 $ m $ 哪个小就跑哪个。。。  
看上去很鸡肋，然而我理性分析了一波复杂度卧槽好像是 $ O(q m \sqrt{m} log(m)) $ ，  
应该能骗蛮多分，于是交了，然后 A 了。。。

第二题又是个计数，感觉像容斥，容斥之后怎么搞就有点迷，  
于是写了个 dp ，手玩样例感觉没错，然而一测大样例就 WA 了，  
于是手玩了几组数据，才发现 dp 错了，区间相交的情况没考虑好，  
最后实在没思路，就打了个大暴力，有 30', 还不错（ 10 倍于前面两天的暴力分 3' ）。

第三题哇塞维护一棵树，一看就感觉是树剖 + 线段树或者 LCT 之类的数据结构题，  
然而还是不会，又敲了一发大暴力 10' 走人。。。

### 讲题

下午讲题，一看 ppt 下面一行字：--Claris  
woc 今天见到真人了，那位 bzoj 4000+ ac 的神仙！  
第一题正解是按度数大小关系连边，出题人说数据难造所以有这种带 log 的算法卡过去了。  
第二题果然是容斥，但是要通过一个奇妙的矩形构造转换为轮廓线 DP 。  
第三题出题人说并不是数据结构题？blabla 讲了一堆奇妙的做法，  
然而有 4 个人用动态 DP 搞过去了，出题人想到了这一点还特意去卡了但是没卡掉。

### 颓废

昨天没吃成必胜客来着，今天再次尝试，又剁一波手。  
晚上真是诸事不利，tmd 这笔记本真的让人心累，  
要啥没啥，网连续断了好几次，还真就不是网的问题，众人不断就我断，  
什么 u 盘硬盘全没用，放我电脑上就读不到，  
蓝牙更是做梦，键盘只能插线就算了还一老读不到，  
还什么显像管出问题？动不动一些地方就全是红色的跟看恐怖片似的，  
说优点倒也有，用个电脑火炉都省了，贼发热，那电风扇的声音时刻提醒你它还活着，  
它要是太烫了还会自动关机，把你烤热了再降降温，贴心，  
放歌听也很棒，我听快歌，它就一卡一卡的，一个字一个字给你放，根本不用怕听不清。  
还能智能存储电量，充电线一拔就晓得要存储电量直接断电，不插上充电线不给开机，保证电池里的电永远满的。  
别的什么还有一堆，懒得喷了，难受。

## Day6

### 考试

前两天把 rp 用完了，今天全暴力都写挂。

第一题我一开始推出个错误的结论，然后一想可以离线排序询问再预处理 dist 根据询问不断删除，删除不好搞换成加边弄个并查集维护联通块，  
然而代码打完后一跑样例， WA 了，手玩样例才发现结论错了，这时候已经 9:30 了，凉凉，后面两题还没看。  
最后打了大暴力 10'。

第二题题读到一半就感觉是二分，读完题后推了一下发现可以转换成这样一个模型：  
二维平面上给定 n 个点，每次将一条平行于 y 轴的直线右边的点都向上平移 dy 单位并回答所有点的斜率 (y / x) 的最大值。  
然后就有了 $ o(n^2) $ 的暴力做法，这玩意一脸可以优化的样子，然而想了好久没思路，就交了 60' 。

第三题网格图 DAG, 感觉像要 dp ？但是不会，就打了暴力，结果还打挂了 RE ，爆零。

### 讲题

第一题什么神仙 dp $ O(n^4) $ 过 100 可还行，我太菜了没搞懂这个 dp ，  
但是出题人提到有枚举端点 + 组合数的做法，我想去看看，一看哇塞简单多了，  
而且复杂度优秀的 $ O(n^3) $ ，下午按照这个作法改了一段时间就 A 了（~~期间没开 long long 一直爆炸~~）。

第二题好像是可以从我那个模型再转换一下后分块 + 凸包维护，感觉很神仙。

第三题有个神奇的结论：  
用两个不同的顺序得到的 dfs 后序，u 可以到 v 当且仅当 v 的两个 dfs 序都比 u 的小。  
然后就可以将点按一个 dfs 序排序后按颜色设状态 dp, 把 dp 数组扔进树状数组后得出答案。

### 颓废

晚饭兰州拉面，清真的店子就是讲究，还贼好吃。
晚上感觉屁事没干，教练发了一套题要我们做（考试的题都改不完啊），  
实在不想做，反正明天收，晚上就几乎一直在颓，找歌听。

## Day7

### 考试

100 % 纯暴力的一天。

第一题神仙计数题？好难啊感觉，于是想了想了 k 小于等于 3 会不会有什么规律可循，  
发现 k = 1 的时候就是 $ 2^{n-1} $ ，就得到了 1 分的好成绩（这分给的真少）。  
然后再手玩了一下 k = 2 和 k = 3 的情况，找到了一种计数方式，过了样例，就交了，  
然并卵，k = 2 和 k = 3 的情况错了，只有 1' 。

第二题感觉是什么 set 启发式合并，但是合并之后只能暴力搞答案，  
没思路，打了暴力，5 分的好成绩。

第三题我靠麻将小模拟大搜索题？感觉很复杂，而且到第三题也没什么时间了，  
于是打了一发只有字牌的特殊情况，20 分的好成绩。

### 讲题

出题人说这个题目难度是 T1 >= T2 >= T3 。

T3 果然就是搜索，先算出最大答案（就是 9 ）统计面子搭子的数量再减答案。

T2 线段树合并，玄学，还不会。

T1 真有意思，标程生成函数加一大堆什么多项式的优化之类的，复杂，没懂。  
但是有位大佬考试 27 分钟后就 A 了这题，出题人叫他上来讲讲，  
然后他就开始秀操作：  
“我的直觉告诉我 % n 等于 0 的方案和 % n 等于 x 的方案是一样的，然后就可以算出总方案数再除以 n 就可以......” ，  
然后抄起笔写出一个式子，就是总方案数，  
我靠这式子也贼好懂，全场都笑喷了，这大抵就是“爆踩标程”了吧，复杂度还更优秀。  
出题人一脸懵逼，看了眼式子无奈的说了一句好吧那就这样吧。
做法就是考虑每个排列的贡献，枚举颜色的种类再用组合数和第二类斯特灵数算出这样的排列数再乘上贡献。
时间复杂度直接实现都是 $ O(k^2) $ （ k 只有 100 ，可见标程被爆踩），  
把斯特灵数那部分的预处理用 NTT 优化复杂度就是 $ O(k logk) $ ，  
听说还可以优化到 $ O(k) $ ，不会，但对这题来讲也没必要。

### 额外肝题

教练还额外发了一套题来着。  
扫了遍题目，感觉第二题比较友好：  
交换 i, j 枚举顺序后就把那个斯特灵数求和的部分设为函数 g ，  
根据斯特灵数的递推，g 这玩意也是可以递推的，中间需要用到一排斯特灵数。  
根据斯特灵数的容斥意义 NTT 预处理一排斯特灵数即可（卧槽这不就是上午 t3 吗）。  
~~代码实现中，还没打完，随时准备被打脸。~~

~~今天晚上竟然没有颓。~~

## Day8

~~咕掉了~~

## NEXT

[Day9 to END](/2019/03/29/安徽游记-iii/)

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/09/多项式运算/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kewth">
      <meta itemprop="description" content="HNFMS 现役 OIer">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KeBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            
            <a href="/2019/10/09/多项式运算/" class="post-title-link" itemprop="url">多项式的运算</a>
          
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-10-09 17:33:33" itemprop="dateCreated datePublished" datetime="2019-10-09T17:33:33+08:00">2019-10-09</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
## 定义

简单来说，形如 $ a_0 + a_1X + a_2X^2 + ... + a_nX^n $ 的代数表达式叫做多项式，
可以记作 $ P(X) = a_0 + a_1X + a_2X^2 + ... + a_nX^n $ （系数表示法），
a 叫做多项式的系数，X 是一个不定元，不表示任何值，
不定元在多项式中最大项的次数称作多项式的次数。

## 加减

两个多项式 a, b 的和 a + b 是一个多项式 c ，满足：
 $ \forall x, c(x) = a(x) + b(x) $

两个多项式 a, b 的差 a - b 是一个多项式 c ，满足：
 $ \forall x, c(x) = a(x) - b(x) $

多项式的加减十分自然，实际运算中也只需要按定义 O(n) 枚举即可。

## 乘

两个多项式 a, b 的积 a \* b 是一个多项式 c ，满足：
 $ \forall x, c(x) = a(x)  \cdot  b(x) $

此时将 a, b 的系数按分配率展开求 c 的时间复杂度为 O(n \*  m) ，
 n, m 分别为 a, b 的次数，不难得出 c 的次数为 n + m 。

快速求多项式乘积的方法是 $ O(n \cdot log_2n) $ 的 [FFT]() 或 NTT 。

## 除

两个多项式 a, b 的商 a / b 是一个多项式 c ，满足：
 $ \forall x, c(x) = a(x) / b(x) $

众所周知多项式除法可以列竖式求解，
这样做与乘法一样复杂度为 O(n \*  m) 。

## 取模

正如整数除法会有余数，多项式除法也不一定整除，
此时 a / b 会余一个多项式 c ，
正如整数除法中余数小于除数，
此处也要满足 c 的次数小于 b 的次数以保证唯一性。

具体来说，对于多项式 a, b 存在唯一的多项式 c, d 满足：
 a = b \*  d + c 且 c 的次数小于 b 的次数，
便称 c 是 b 除 a 的余数，即 a 模 b 的结果，
 d 是 b 除 a 的商。

值得注意的是，当模数 b 可表示为 $ b(x) = x^k $ 时，
 a 模 b 相当于将 a 舍弃所有次数大于等于 k 的单项式的结果。

## 逆元

对于多项式 a ，其在 mod p 意义下的逆元 b 满足：
 a \*  b mod p = 1 且 b 的次数不比 a 大
（此处的 1 实际上是指只有常数项为 1 而次数为 0 的多项式），
 a 的逆元通常记为 $ a^{-1} $ 或 inv(a) 。

那么在 mod p 意义下，有 $ a / b = a  \cdot  b^{-1} $ 。

## 逆元的求解

事实上模数一般是 $ x^n $ 。

此时可以用分治求多项式 a 的逆元 b。

假设已经分治求得了 a 模 $ x^{n/2} $ （此处及以下除法表示向上取整）的逆元 c 。
那么有：
$$ a  \cdot  c \equiv 1 (mod \; x^{n/2}) \;\;\;\;\; (1)$$
由 b 的定义可知：
$$ a  \cdot  b \equiv 1 (mod \; x^n) \;\;\;\;\; (2)$$
转换为：
$$ a  \cdot  b \equiv 1 (mod \; x^{n/2}) \;\;\;\;\; (3)$$
(3) - (1) 得：
$$ b - c \equiv 0 (mod \; x^{n/2}) \;\;\;\;\; (4)$$
两边同时平方得：
$$ b^2 - 2bc + c^2 \equiv 0 (mod \; x^n) \;\;\;\;\; (5)$$
两边同时乘 a 得：
$$ b - 2c + c^2a \equiv 0 (mod \; x^n) \;\;\;\;\; (6)$$
移项，整理：
$$ b = (2c - c^2a) \; mod \; x^n $$

(4) -> (5) 中模数平方的原因：
左边多项式模 $ x^{n/2} $ 为 0 代表该多项式每一项最低次数为 n / 2 + 1 。
那么该多项平方后最低次数会是 n + 1 或 n + 2 ，
模 $ x^n $ 后仍为 0 。

于是乎分治，直到 n == 1 ，此时多项式的取模为一个常数，逆元也就是整数的逆元。

其中乘法使用 FFT ，则最终时间复杂度为 $ O(n \cdot log_2n) $ 。


        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/09/北京游记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kewth">
      <meta itemprop="description" content="HNFMS 现役 OIer">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KeBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            
            <a href="/2019/10/09/北京游记/" class="post-title-link" itemprop="url">北京游记</a>
          
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-10-09 17:33:15" itemprop="dateCreated datePublished" datetime="2019-10-09T17:33:15+08:00">2019-10-09</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
Q: 我天天盯着你高考 (gq) 怎么一直没更新啊？  
A: 懒。

因此这实际是一篇事后回忆。

## Day0

昨天晚上特意没去学校回了家，想着离高铁站近可以晚点起床，  
~~真相是需要回家拿电脑~~  
然而大早上 6 点就被叫了起来，早餐都没吃就直接送到了高铁站，  
emm 还有大半个小时才检票，果断拿起颓书开始颓废，  
不要问[为什么不玩电脑]()，心塞。

高铁上还是贼无聊，幸好准备了颓书，  
而且还可以蹭旁边的人看《生活大爆炸》。  
还行，比上次去安徽好得多。

出高铁再做地铁去北大，北京地铁线比长沙多得多，  
全程没搞清往哪走，迷迷糊糊地跟别人跑。  
下了地铁第一反应就是，热，真热，贼 NM 热，  
地理菜狗还以为北京纬度高就会比较凉快来着。

至于住的酒店，我敢说这是我住过最差的酒店了，  
整一偏僻平房（有点像四合院？），里面要啥没啥，  
卫生条件极差，听隔壁德拉说他们床头粘了 10+ \*\*\* ，部分带红，估计是 \*\*\*\* 。  
水龙头都 tm 生锈了，淋浴喷头竟然对着马桶。  
之前住安徽时还喷了那宾馆来着，现在感觉那简直是天堂。

晚上还是很 nice 的，上一届北大的信息组学长们请我们吃饭，  
特意选了一家比较符合湖南人口味的饭馆，  
吃完饭后被拉到北大到处乱转，  
北大确实很漂亮，晚上没什么灯，不是灯火通明的那种喧嚣繁华，比较安静，  
还有未名湖，不敢随便形容，不过听说每年都有人不小心掉下去。

## Day1

上午的开幕式已经忘了讲了什么了，  
大概是大谈信息学发展，北大的优势和竞赛生在北大的学习方向。

北大食堂贼多，不过我们可以吃的只有三个，农园最近，大家就都去了农园，  
还不错，至于消费我跟本没注意，反正看到还行的就拿了。。。发的 100 元的卡应该够用的。  

下午的考试，萎出天际，可能是没有找到状态吧，  
三道题目一点思路都没有，真的就是只想得到暴力，还是最暴力的暴力，  
结果暴力还打挂了，明明过了样例过了自测数据，但是就上去就是使劲 WA 。  
正常考试处于崩溃和半放弃的状态，最后得到了 18' 的好成绩。

本来挺乐观的，以为和省选一样，大众分就是几十分，  
然而问了一波成绩发现某 Jian 200+ 。。。  
好吧是我凉了。

于是颓了一晚上，打 generals ，看敖厂长，本来想打饥荒然而被我的 XP 折服了。

## Day2

上午大师讲座 ~~master 牛逼~~ ，请的外国的一位教授，图灵奖获得者。  
这次讲座我感触很深，受益匪浅，得到了一个教训和今后的一个小目标：  
好好学英语。  
woc 英语菜狗全程懵逼啊，除了黑板上画的图什么都搞不懂。  
讲完后还有学生提问题的环节，看着别人和教授谈笑风生，对我就加密了一样。

《论常规课的重要性》

下午考试心态比较佛，已经清楚翻盘无望了，  
看了三道题后只感觉有一题可做，题意大概是这样：

给定一颗 n 个点的树，将其放在 m 维空间里，  
需要满足每两个点的曼哈顿距离与其在树上的距离相同。  
求出一个使 m 最小的放置方案。

一个维度在树上只能管一条链，题目可以转换为最小链覆盖。  
然而我考场上的转换方式不太一样，更复杂，每条链要去掉 lca,  
于是我就搞了个 dfs 去求这玩意，交上去过了 subtask1 和 subtask3 。  
woc? subtask3 是没有限制的，讲道理过了 subtask3 就一定可以过 subtask2 。  
仔细分析发现 dfs 儿子的顺序会有影响，没想出来怎么去掉这个影响，于是开始操作。  
我 dfs 的时候选择 size 最大的一个儿子去递归，再交，还是一样。  
我 dfs 的时候选择叶子数最大的一个儿子去递归，再交，还是一样。  
我 dfs 的时候随机选择一个儿子去递归，再交，过了 subtask1 和 subtask2 。  
Nice 啊综合一下呗，根据输入数据特判一下，如果是 subtask2 就随机递归，subtask3 就自然递归。  
成功 AC ，最后 122' 。

晚上贼颓，因为明天不用考试嘛，于是爆肝小游戏，都是颓过的人，细节自己想都想得出。

## Day3

闭幕式。

出题人出来讲题了，果然是吉司机（和另外一个不知名人士），  
题面中全是“九条可怜是个爱...的女孩子”。  
但正如他本人所说，这次的确没有什么麻将啊斗地主啊之类的题，  
整体偏向思维，没有毒瘤数据结构，没有大模拟。  
好吧回想起来比赛质量确实很好，可能在吉司机画的那个图像的最高点附近吧。

颁奖的时候就只能看着了，连个安慰奖都没摸到，自闭了。

中饭进哥请食堂，吃完后就回去了，  
高铁上巨颓，拷了两季生活大爆炸后直接开始追剧，  
除了中间吃泡面外就没停（包括教练过来查水表）。  
感觉被带进坑了。

常规快乐。


        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/09/terminal-tool/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kewth">
      <meta itemprop="description" content="HNFMS 现役 OIer">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KeBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            
            <a href="/2019/10/09/terminal-tool/" class="post-title-link" itemprop="url">终端（娱乐）工具</a>
          
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-10-09 17:31:58" itemprop="dateCreated datePublished" datetime="2019-10-09T17:31:58+08:00">2019-10-09</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo aptitude install sl</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo aptitude install rubygems</span><br><span class="line">gem install lolcat</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo aptitude install cowsay</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/hpjansson/chafa.git &amp;&amp; <span class="built_in">cd</span> chafa</span><br><span class="line">sudo aptitude install libmagickwand-dev</span><br><span class="line">./autogen.sh</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>
          <!--noindex-->
          
            <div class="post-button">
              <a class="btn" href="/2019/10/09/terminal-tool/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/09/NTT/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kewth">
      <meta itemprop="description" content="HNFMS 现役 OIer">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KeBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            
            <a href="/2019/10/09/NTT/" class="post-title-link" itemprop="url">NTT</a>
          
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-10-09 17:30:50" itemprop="dateCreated datePublished" datetime="2019-10-09T17:30:50+08:00">2019-10-09</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
NTT ，快速数论变换，功能与 [FFT]() 完全一致，用来求多项式卷积。  
NTT 优点在于常数稍微小一点，没有精度误差。  
但是 NTT 系数必须是取模意义下的整数，且对模数有特殊要求。

## FFT 的单位根

建议前置 [FFT]() 。

FFT 可以分治优化复杂度的原因是用到了单位根的如下性质：  
$$ W_{2n}^{2k} = W_n^k $$
$$ W_n^n = 1 $$
$$ W_n^{k + n/2} + W_n^k = 0 $$

可是用单位根做 FFT ，需要用到复数和浮点数，常数大而且有精度误差。  
还有别的数有这样的性质来替换单位根吗？  
遗憾的是，可以证明复数域下只有单位根有这样的性质。

## 取模

实际计算多项式卷积时，常常要求对系数取模以避免不必要的麻烦。  
那么这时候系数实际上是在模意义下的， FFT 将它转到复数域上运算，似乎没有必要。  
模意义下什么数可以有单位根那样的性质？  
有的，那就是原根。

## 原根

对于某些模数 P ，模 P 意义下的原根 g 满足：  
对任意 $ 0 \leq k \leq P - 2 $ ， $ g^k $ 互不相同。
有些模数可能不存在原根，这里先假设模数都有原根。

假设系数是模 P 意义下的，P 是形如 $ 2^k + 1 $ 的质数，其原根为 g ，  
设 $ G_n = g^{\frac{P-1}{n}} mod P $ ，其中 n 是小于 P 的 2 的整次幂 。  
那么在模 P 意义下， G 满足：

$$ G_{2n}^{2k} = G_n^k $$

由 G 定义可证：  
$ G_{2n}^{2k} = g^{\frac{P-1}{2n}2k} = g^{\frac{P-1}{n}k} = G_n^k$

$$ G_n^n = 1 $$

由 G 定义可得：  
$ G_n^n = g^{\frac{P-1}{n}n} = g^{P-1}  $  
由费马小定理：  
$ G_n^n =  g^{P-1} = 1 $

$$ G_n^{k + n/2} + G_n^k = 0 $$

有第一条性质可得：  
$ G_n^{n/2} = G_2^1 = g^{\frac{P-1}{2}} $  
因为 $ (g^{\frac{P-1}{2}})^2 = g^{P-1} = 1 $  
根据原根的性质：  
$ g^{\frac{P-1}{2}} \neq g^{P-1} $  
那么 $ g^{\frac{P-1}{2}} = -1 $ （即 P - 1）。  
那么可以证得：  
$ G_n^{k + n/2} = G_n^k G_n^{n/2} = G_n^k(-1) $  
于是 $ G_n^{k + n/2} + G_n^k = 0 $

## NTT

于是 NTT 的算法思路就呼之欲出了：把 $ W_n $ 全部替换为 $ G_n $ 即可。  
这样就可以算出模 P 意义下的多项式卷积了。  
其中 n 必须是 2 的整次幂，不足的补零即可。

现在唯一的问题是，模数 P 要满足什么条件，以及如何求模 P 意义下的原根 g 。  
然而我并不想深入展开，大多数情况下模数都是 998244353 ，其原根为 3 。  
一般 NTT 只会用这个模数，不会有毒瘤出题人卡这个模数的（我不对这句话负责）。

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/09/NOIP 2018/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kewth">
      <meta itemprop="description" content="HNFMS 现役 OIer">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KeBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            
            <a href="/2019/10/09/NOIP 2018/" class="post-title-link" itemprop="url">NOIP 2018</a>
          
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-10-09 17:30:34" itemprop="dateCreated datePublished" datetime="2019-10-09T17:30:34+08:00">2019-10-09</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
## 吐槽

一天普及一天省选，弄到一起就出成了一套提高组试题。

## Day1

原题大作战。
然而我一题都没做过。

总的来说 Day1 比去年好像容易点（不然我也不会留出一个多小时给每道题造数据对拍）。

### T1

CCF 直接把 2013 的题原封不动搬到了 Day1T1 。

一开始想着递归，发现会被卡成 $O(n^2)$ ，
再想 DP 的时候简化一下式子就直接可以扫一遍出结果。

### T2

bzoj 权限题。

如果一种货币能被其它若干货币代替，就扔掉。
设 f[i] 表示价值为 i 的货币是否会被代替，做一遍完全背包就好了。

### T3

bzoj 权限题。

听说可以二分加贪心，不过我考场想的比较复杂 ~~是二分答案再 DP ，DP 转移再套一层用链表维护的 DP~~ 。

首先容易想到二分答案，二分一个答案 mid 后求最多可以有多少条赛道满足长度不小于 mid ，
若有不少于 m 条，则答案可行。

求赛道数量可以 DP ，设 f[u] 为 u 的子树中满足条件的赛道的数量，
g[u] 表示在满足 f[u] 最大的前提下 u 向下不经过赛道的最长路径长。

转移的时候先把 u 的儿子 v 的 f[v] 累加，同时将所有 g[v]+w 存起来（w 表示 u 到 v 的长度）。

对于 g[v]+w 大于等于 mid 的直接把 f[u]++ 然后扔掉，于是只需要考虑小于 mid 的 g[v]+w 的贡献。

两个不同的 g[v]+w 若大于等于 mid 就同样可以作为一条赛道让 f[u]++ ，先排序然后再次 DP 统计这样的赛道数量，
然后若所有的 g[v]+w 都有另外一个构成赛道， g[u]=0 ，否则 g[u] 等于剩下的最大的 g[v]+w 。

## Day2

Day1 的比赛对我造成了巨大的影响，Day1 考完后信心爆棚， ~~以 AKIOI 的自信~~ 走进 Day2 考场。

结果什么题都死磕正解，到最后连暴力都没打全。

看题，WTF?

看完 T1 我以为是个稠密无向图，想了好久感觉是要求一种特殊的生成树，感觉巨不可做。
顿时有点小慌，突然想到考前教练提醒要看完题，说不定后面的题反而简单。

嗯，有道理，直接翻到 T2 ，推了波结论认定是一道状压 DP，松了口气。

不急，再看 T3 ，哦，好像树形 DP ，但是 m 个询问难住了我。

于是认定 T2 比较容易，开始死磕 T2 ，打完状压后跑了遍 2,2 的样例，诶过了。
再跑一遍 3,3 ，输出 144 ，于是手推了 3,3 的样例发现还是 144 ,
意识到推的结论有误，瞬间慌的一批。
推了好久才发现了问题，得到正确的结论后发现对于新结论状压 DP 似乎变得不可行。

这个时候考试已经过了一个小时多了。慌。

换换思路吧，于是去做 T3 , 想了很久 DP 最后写了个平方复杂度的，
跑过了所有样例就没管了，没多少时间了，又回去看 T1 。

往回看了看 T1 里 m 的数据范围我才发现只有树和换套树两种情况。
那还求个鬼生成树，迅速打掉树的 60 部分分，n 看都没看只知道 $O(n)$ 稳了。
再去想换套树，感觉差不多，继续 $O(n)$做。

结果？一直死磕 T1 的 $O(n)$ 做法，直到最后考试结束都没写出来。

考试听别人说直接枚举删边 $O(n^2)$ 就可以过的时候我才意识到 n 只有 5000 ，整个人懵的。

结果 T1 还是 60' ，T3 不晓得哪里炸掉了爆零，
有意思的是 T2 我错误的打法样例都没过在 ccf 的数据里水到了 45' 。

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/09/ncurses/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kewth">
      <meta itemprop="description" content="HNFMS 现役 OIer">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KeBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            
            <a href="/2019/10/09/ncurses/" class="post-title-link" itemprop="url">ncurses</a>
          
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-10-09 17:30:22" itemprop="dateCreated datePublished" datetime="2019-10-09T17:30:22+08:00">2019-10-09</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
ncurses 是基于终端的十分强大的图形库。
Vim, screen, sl 等终端程序都用到了这个库（足以见其强大）。

## 安装

部分系统默认安装了 ncurses ，手动安装的方式是： `sudo aptitude install ncurses-dev` 。

使用的程序需要 `#include <ncurses.h>`　。
编译时需要添加 `-lncurses` 参数进行链接。

## 开始和结束

调用 initscr 初始化窗口，endwin 结束窗口。

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;curses.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">WINDOW *<span class="title">initscr</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">endwin</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br></pre></td></tr></table></figure>

## 输出

调用 initscr 后调用 endwin 前，printf, std::cout 等标准输出不会显示在屏幕上。
而输出到屏幕上需要 ncurses 提供的相应函数。

### 函数

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">addch</span><span class="params">(<span class="keyword">const</span> chtype char_to_add)</span></span>;   <span class="comment">// 当前位置添加字符</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">addstr</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *string_to_add)</span></span>;    <span class="comment">// 当前位置添加字符串</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">printw</span><span class="params">(<span class="keyword">char</span> *format, ...)</span></span>;   <span class="comment">// 类似于 printf</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">refresh</span><span class="params">(<span class="keyword">void</span>)</span></span>;    <span class="comment">// 强制刷新物理屏幕</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">beep</span><span class="params">(<span class="keyword">void</span>)</span></span>;   <span class="comment">// 终端响铃</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">flash</span><span class="params">(<span class="keyword">void</span>)</span></span>;   <span class="comment">// 屏幕闪烁</span></span><br></pre></td></tr></table></figure>

## 输入

调用 scanf, getchar, cin 等标准输入函数同样无效。

### 函数

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cbreak</span><span class="params">()</span></span>;   <span class="comment">// 字符一键入，直接传给程序（不用按下回车）</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">nocbreak</span><span class="params">()</span></span>;  <span class="comment">// 关闭 cbreak</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">echo</span><span class="params">(<span class="keyword">void</span>)</span></span>; <span class="comment">// 开启输入回显</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">noecho</span><span class="params">(<span class="keyword">void</span>)</span></span>; <span class="comment">// 关闭输入回显</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getch</span><span class="params">(<span class="keyword">void</span>)</span></span>; <span class="comment">// 读入一个字符</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">scanw</span><span class="params">(<span class="keyword">char</span> *format, ...)</span></span>; <span class="comment">// 类似于 scanf</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">clear</span><span class="params">(<span class="keyword">void</span>)</span></span>; <span class="comment">// 清屏</span></span><br></pre></td></tr></table></figure>

输入函数通常是阻塞的，但是通过调用 nodelay(stdscr, TRUE); 可以关闭阻塞。
此时若输入函数未读取到内容会返回 ERR 。

## 光标

控制光标。
调用 initscr 后调用 endwin 前，输出终端控制符改变光标是无效的。

### 函数及示例

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>; <span class="comment">// 将光标移动到 [x] 行 [y] 列，左上角为 0 行 0 列</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">curs_set</span><span class="params">(<span class="keyword">int</span> visiblility)</span></span>; <span class="comment">// 参数为 0 表示隐藏光标，1 表示显示光标</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getyx</span><span class="params">(WINDOW* win, <span class="keyword">int</span> &amp;x, <span class="keyword">int</span> &amp;y)</span></span>; <span class="comment">// 获取指定窗口光标位置，示例如下</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">move_up</span><span class="params">()</span> </span>&#123; <span class="comment">// 将光标上移</span></span><br><span class="line">	<span class="keyword">int</span> x, y;</span><br><span class="line">	getyx(stdscr, x, y); <span class="comment">// stdscr 表示标准屏幕</span></span><br><span class="line">	move(x - <span class="number">1</span>, y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

### 指定位置输出

在指定位置输出不必先 move 再 printw ，
ncurses 提供了 mv 函数前缀在指定位置输出。
例如 `mvprintw(1, 2, "%d", 2)` 在 1 行 2 列输出 3 。
类似的有 mvaddch, mvaddstr 等。

## 颜色

### 初始化

首先需要调用 has_color() 查看当前运行环境是否支持彩色。
调用 start_color() 初始化颜色，成功则返回 OK 。

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">has_colors</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">start_color</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br></pre></td></tr></table></figure>

成功后会初始化全局变量 COLORS 表示终端支持的颜色数量
还会有 COLOT_WHITE, COLOR_RED 等 8 个表示颜色的变量。

### 使用

例如希望打印白底黑字的信息：

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *info)</span> </span>&#123;</span><br><span class="line">	init_pair(<span class="number">1</span>, COLOR_BLACK, COLOR_WHITE);</span><br><span class="line">		<span class="comment">// 的一个参数表示编号，后面两个分别表示字体和背景颜色</span></span><br><span class="line">	attron(COLOR_PAIR(<span class="number">1</span>));</span><br><span class="line">		<span class="comment">// attron 是一个设置函数，COLOR_PAIR 返回指定编号的颜色信息</span></span><br><span class="line">	addstr(info);</span><br><span class="line">	attroff(COLOR_PAIR(<span class="number">1</span>));</span><br><span class="line">		<span class="comment">// attroff 关闭设置（若接下来需要用其他颜色可以不调用 attroff 而直接使用 attron 覆盖设置</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

### 错误示例

值得注意的是，必须保证 init_pair 的编号不与其他已初始化的编号重复
一个错误的调用如下：

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> *info = <span class="string">"ERROR CODE"</span>;</span><br><span class="line">init_pair(<span class="number">1</span>, COLOR_BLACK, COLOR_WHITE);</span><br><span class="line">attron(COLOR_PAIR(<span class="number">1</span>));</span><br><span class="line">addstr(info); <span class="comment">// 打印白底黑字</span></span><br><span class="line">init_pair(<span class="number">1</span>, COLOR_BLACK, COLOR_RED);</span><br><span class="line">attron(COLOR_PAIR(<span class="number">1</span>));</span><br><span class="line">addstr(info); <span class="comment">// 打印白底红字</span></span><br></pre></td></tr></table></figure>

上述代码的期望打印出白字和黑字两种不同的颜色，
但事实上只会打印出红色一种。
解决方案便是将白底红字的 pair 编号设为 2 。

## 窗口

ncurses 有窗口类 WINDOW 并提供了 stdscr 作为默认窗口。
有时一个窗口无法满足需要，此时需要自己新建窗口。

### 新建窗口

调用 newwin 来新建窗口。

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从 ([x], [y]) 开始新建 [line] 行 [column] 列的窗口。</span></span><br><span class="line"><span class="function">WINDOW *<span class="title">newwin</span><span class="params">(<span class="keyword">int</span> line, <span class="keyword">int</span> column, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br></pre></td></tr></table></figure>

新建的窗口

### 通用输出

addch, printw 等输出方式只输出到 stdscr 。
ncurses 提供了 w 前缀来输出到指定窗口。
例如 `wprintw(win, "%d", 1)` 在 [win] 窗口输出 1 。
但是自己新建的窗口与 stdscr 不同，
若想在屏幕上显示需要调用 `wrefresh(win)` 刷新窗口。

若想在窗口中指定位置输出，可以用 mvw 前缀函数。
例如 `mvwprintw(win, 1, 2, "%d", 3)` 在 [win] 窗口的 1 行 2 列（ **相对位置** ）输出 3 。

### 子窗口

调用 subwin 创建子窗口。

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从 ([x], [y]) 开始新建 [line] 行 [column] 列属于 [parent] 的子窗口。</span></span><br><span class="line"><span class="function">WINDOW *<span class="title">subwin</span><span class="params">(WINDOW *parent, <span class="keyword">int</span> line, <span class="keyword">int</span> column, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br></pre></td></tr></table></figure>

子窗口与普通窗口的区别在于它与其父窗口共用屏幕储存空间，
子窗口修改时父窗口会直接受到影响。
比如新建了 stdscr 的子窗口 win ，
那么输出到 win 后想显示在屏幕不调用 wrefresh 而是调用 touchwin(stdscr) 。
touchwin 用于标记一个窗口被修改。


### 销毁窗口

调用 delwin 销毁窗口。

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">delwin</span><span class="params">(WINDOW *win)</span></span>; <span class="comment">// 销毁 [win] 窗口</span></span><br></pre></td></tr></table></figure>

窗口销毁后其在屏幕上对应的内容不会改变。


## 离开

有时候可能需要离开 ncurses 回到行缓冲模式做些事情而且需要在之后回到 ncurses 。
例如 Vim 里面输入 :!ls 就会退出 ncurses 运行 ls 命令，并在用户敲下回车后回到 ncurses。

调用 def_prog_mode 暂存，调用 reset_prog_mode 恢复。

### 示例

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	initscr();</span><br><span class="line">	printw(<span class="string">"Hello World !!!\n"</span>);</span><br><span class="line">	getch(); <span class="comment">// 等待用户输入</span></span><br><span class="line">	def_prog_mode(); <span class="comment">// 存储当前tty 模式</span></span><br><span class="line">	endwin(); <span class="comment">// 退出 ncurses 模式</span></span><br><span class="line">	system(<span class="string">"sh"</span>); <span class="comment">// 返回普通的行缓冲模式</span></span><br><span class="line">	reset_prog_mode(); <span class="comment">// 返回到 def_prog_mode() 存储的 tty 模式</span></span><br><span class="line">	refresh(); <span class="comment">// 刷新屏幕（必须！）</span></span><br><span class="line">	getch(); <span class="comment">// 等待用户输入</span></span><br><span class="line">	endwin(); <span class="comment">// 退出 ncurses 模式</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

## 输出中文等非 ASCII 字符

事实上 ncurses 并不支持直接输出中文，
这意味着调用 printw("中文") 会是一堆乱码。
解决方案如下：

### 安装库

这需要另一个库。
通过 `sudo aptitude install libncurses5 libncursesw5 libncursesw5-dbg libncursesw5-dev` 安装

### 头文件

一定是 `#include <ncurses.h>` 而不是 `#include <curses.h>` 。
另外在 main.cpp `#include <locale.h>` 。

### 调用

在调用 initscr() **之前** 调用 setlocale(LC_ALL, "") 。

### 编译

将 `-lncurses` 参数改为 `-lncursesw` 。
</locale.h></curses.h></ncurses.h></ncurses.h>
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/avatar.jpeg"
      alt="Kewth">
  <p class="site-author-name" itemprop="name">Kewth</p>
  <div class="site-description" itemprop="description">HNFMS 现役 OIer</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">35</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        <span class="site-state-item-count">26</span>
        <span class="site-state-item-name">标签</span>
        </a>
      </div>
    
  </nav>
</div>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://github.com/Kewth" title="GitHub &rarr; https://github.com/Kewth" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="mailto:Kewth.K.D@outlook.com" title="E-Mail &rarr; mailto:Kewth.K.D@outlook.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="qq:1344205350" title="QQ &rarr; qq:1344205350" rel="noopener" target="_blank"><i class="fa fa-fw fa-qq"></i>QQ</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://www.luogu.org/space/show?uid=52232" title="Luogu &rarr; https://www.luogu.org/space/show?uid=52232" rel="noopener" target="_blank"><i class="fa fa-fw fa-code-fork"></i>Luogu</a>
      </span>
    
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links | 友链
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://ricardoships.github.io" title="https://ricardoships.github.io" rel="noopener" target="_blank">Ricardoships</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="https://luoyuyang.cf" title="https://luoyuyang.cf" rel="noopener" target="_blank">lyy</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="https://zrz-orz.github.io" title="https://zrz-orz.github.io" rel="noopener" target="_blank">zrz_orz</a>
        </li>
      
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heartbeat"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Kewth</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">
      
    主题 – <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.4.1
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
  
    <span class="post-meta-divider">|</span>
  
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
  
</div>












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.1"></script><script src="/js/motion.js?v=7.4.1"></script>
<script src="/js/schemes/muse.js?v=7.4.1"></script>
<script src="/js/next-boot.js?v=7.4.1"></script>



  





















  

  
    
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->

    
  

  

  


</body>
</html>
